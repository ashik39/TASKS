<!DOCTYPE html>
<html>
    <head>
        <title>Multi Step Form</title>
        <!-- Required meta tags -->
    	<meta charset="utf-8">
    	<meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Bootstrap CSS -->
    	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

        <style>
            body{
                margin-top: 50px;
                margin-right: 100px;
                margin-left: 100px;
            }
            h2{
                text-align: center;
                background-color: black;
                color: blanchedalmond;
            }

            .container{
                border : solid 2px black;
                padding : 60px;
            }

            .right{
                margin : 0px 0px 0px 885px; 
            }

            .rightcorner{
                margin : 0px 0px 0px 850px;     
            }   

            .leftcorner{
    
                margin: 0px 0px 0px 0px;
            }

            .inline{
                display: inline-flex;
            }

            p{
                color:red;
            }


            .page02{
                display: none;
            }
            .page03{
                display: none;
            }
            .Page04{
                display: none;
            }


        </style>

    </head>
    
    <body onload="load()">
    	<h2>MULTI STEP FORM</h2>
        <div class="container">
            <div id="page1" class="page01">
                <form name="FormName" method="post">
                    <lable>Firstname : </lable>
                    <input class="form-control" type= "text" id="firstname" name="firstname" placeholder="Firstname"><br>
                    <p class="errormsg"></p>
                    <lable>Lastname : </lable>
                    <input class="form-control" type="text" id="lastname" name="lastname" placeholder="Lastname"><br>
                    <p class="errormsg"></p>
                </form><br>
                <button onclick= "next1()"  class="btn btn-primary right">Next</button>
            </div><br>

            <div id="page2" class = "page02">
                <form name="FormContact">
                    <label>Email : </label>
                    <input class="form-control" type="email" id="email" name="email" placeholder="Email" required><br>
                    <p class="errormsg"></p>
                    <label>Phone : </label>
                    <input class="form-control" type="text" id="phone" name="phone" placeholder="Phone"><br>
                    <p class="errormsg"></p>
                </form><br>
                <div class="inline">
                    <input class="btn btn-primary leftcorner" type="submit" onclick="prev1()"  value="Prev">
                    <input class="btn btn-primary rightcorner" type="submit" onclick="next2()"  value="Next">
                </div>
            </div>

            <div id="page3" class = "page03">
                <form name="FormLocation">
                    <label>Country : </label>
                    <select id="country" class="form-select">
                        <option value=''>Select Country</option>
                        <option value="INDIA">INDIA</option>
                        <option value="UK">UK</option>
                        <option value="CHINA">CHINA</option>
                        <option value="EUROPE">EUROPE</option>
                    </select><br>
                    <p class="errormsg"></p>
                    <br>
                    <label>State : </label>
                    <select id="state" class="form-select">
                        <option value=''>Select State</option>
                        <option value="Tamil Nadu">Tamil Nadu</option>
                        <option value="Dheli">Dheli</option>
                        <option value="Kerala">Kerala</option>
                        <option value="Rajastan">Rajastan</option>
                    </select>
                    <p  class="errormsg"></p>
                    <br><br>
                    <label>City : </label>
                    <input class="form-control" type="text" id="city" name="city" placeholder="City"><br>
                    <p class="errormsg"></p>
                </form><br>
                <div class="inline">
                    <input  type="submit" onclick="prev2()" class="btn btn-primary leftcorner" value="Prev">
                    <input type="submit" onclick="next3()" class="btn btn-primary rightcorner" value="Next">
                </div>
            </div>

            <div id="page4" class="Page04">
                <h2>DETAILS</h2>
                <div id = "firstnameresult"></div>
                <div id = "lastnameresult"></div>
                <div id = "emailresult"></div>
                <div id = "phoneresult"></div>
                <div id = "countryresult"></div>
                <div id = "stateresult"></div>
                <div id = "cityresult"></div>
                <input type="submit" onclick="prev3()" class="btn btn-primary leftcorner" value="Prev">
            </div>
        </div>


        <script>
            function load(){

            const page1= document.getElementById('page1');
            const page2= document.getElementById('page2');
            const page3 = document.getElementById('page3');
            const page4 = document.getElementById('page4');
        }

        function error(i,message){
            const x = document.getElementsByClassName("errormsg");
            x[i].innerText = message;            

        }

        function success(i,message){
            const x = document.getElementsByClassName("errormsg");
            x[i].innerText = message;            

        }

            

            function next1(){
                
                const firstname = document.forms["FormName"]["firstname"].value;
                const lastname = document.forms["FormName"]["lastname"].value;

                (firstname.trim() == '')?error(0,"*Enter your first name"): success(0,"");
                
                if(lastname.trim() ==''){
                    error(1,"*Enter your last name");
                }
                else{
                        success(1,"");
                        page1.style.display = "none";
                        page2.style.display = "block";
                }
            }        
                    
            function prev1(){
                page1.style.display = "block";
                page2.style.display = "none";
            }

            function next2(){
                
                const email = document.forms["FormContact"]["email"].value;
                const phone = document.forms["FormContact"]["phone"].value;    

                if(email.trim() == ''){
                    error(2,"*Email can't be blank");
                }
                else{
                    if(!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(email)){
                        error(2,"*Enter proper mail : (Ex. abcd@mail.com)");
                    }
                    else{
                        success(2,"");
                    }
                }

                if(phone.length != 10 || phone.trim() == '') {                      
                    error(3,"*Enter 10 digit mobile number");
                }
                else{
                    success(3,"");
                    page2.style.display = "none";
                    page3.style.display = "block";
                }   
            }

            function prev2(){
                page3.style.display = "none";
                page2.style.display = "block";
            }

            function next3(){
                const country = document.getElementById('country');
                const state = document.getElementById('state');
                const city = document.forms["FormLocation"]["city"].value;    

                if(country.value == ''){
                    error(4,"*Choose Country");
                }
                else{
                    success(4,"");
                }

                if(state.value == ''){
                    error(5,"*Choose State");
                }
                else{
                    success(5,"");
                }      
                        
                if(city.trim() == ''){
                    error(6,"*Enter city name");
                }
                else{
                    success(6,"");
                    page3.style.display = "none";  
                    page4.style.display = "block";      
                }
            
                


                document.getElementById('firstnameresult').innerHTML ="<b>First Name :</b> " + firstname.value+"<br>"+"<br>";
                document.getElementById('lastnameresult').innerHTML ="<b>Last Name  :</b> " + lastname.value+"<br>"+"<br>";
                document.getElementById('emailresult').innerHTML ="<b>Email ID   :</b> " + email.value+"<br>"+"<br>";
                document.getElementById('phoneresult').innerHTML ="<b>Phone      :</b> " + phone.value+"<br>"+"<br>";
                document.getElementById('countryresult').innerHTML ="<b>Country    :</b> " + country.value+"<br>"+"<br>";
                document.getElementById('stateresult').innerHTML ="<b>State      :</b> " + state.value+"<br>"+"<br>";
                document.getElementById('cityresult').innerHTML ="<b>City      : </b>" + city+"<br>"+"<br>";
            }
            

            function prev3(){
                page4.style.display = "none";  
                page3.style.display = "block";
            }

        </script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>


    </body>
</html>